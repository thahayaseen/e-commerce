<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WeebsCorner - Premium PC Parts & Gaming Gear</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        .hero-gradient {
            background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
        }
        .product-card {
            transition: transform 0.2s ease-in-out;
        }
        .product-card:hover {
            transform: translateY(-5px);
        }
        .custom-shape-divider-bottom {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            overflow: hidden;
            line-height: 0;
        }
        .logo {
            height: 40px;
            width: auto;
            transition: transform 0.2s ease;
        }
        .logo:hover {
            transform: scale(1.05);
        }
        .navbar-brand {
            font-weight: bold;
            font-size: 24px;
            color: white !important;
        }
        .navbar {
            background-color: #5F42E8;
            
        }
        .offer-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            background: #FF3366;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(255, 51, 102, 0.2);
            z-index: 10;
        }
        .price-tag {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .original-price {
            text-decoration: line-through;
            color: #6B7280;
            font-size: 0.9em;
        }
        .offer-price {
            color: #FF3366;
            font-weight: 700;
            font-size: 1.2em;
        }
        .saving-text {
            color: #059669;
            font-size: 0.85em;
            font-weight: 500;
        }
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #FF3366;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .add-to-cart-btn {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .add-to-cart-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                120deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: all 0.5s ease;
        }
        
        .add-to-cart-btn:hover::before {
            left: 100%;
        }
        
        .add-to-cart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }
    </style>
</head>

<body class="bg-gray-50">
    <header class="headerscolor navbar shadow-md fixed w-full z-50">
        <nav class="max-w-7xl mx-auto navbar px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="/" class="flex-shrink-0 flex items-center">
                        <img src="/uploads/logo.png" alt="WeebsCorner Logo" class="logo mr-3">
                        <span class="text-2xl navbar-brand font-bold text-white hidden sm:block">WeebsCorner</span>
                    </a>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="/product" class="px-3 py-2 rounded-md text-sm font-medium text-white hover:text-gray-200 transition">All Products</a>
                           
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <a href="/wishlist" class="text-white hover:text-gray-200 transition">
                        <i class="far fa-heart text-xl"></i>
                    </a>
                    <a href="/cart" class="text-white hover:text-gray-200 transition relative">
                        <i class="fas fa-shopping-cart text-xl"></i>
                        <% if(cartcount>=0){ %>
                        <span class="cart-count"><%= cartcount %></span>
                        <% } %>
                    </a>
                    <a href="/user/mydash" class="text-white hover:text-gray-200 transition">
                        <i class="far fa-user text-xl"></i>
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <main class="pt-16">
        <!-- Hero Section -->
        <section class="hero-gradient relative min-h-[600px] flex items-center">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 text-white">
                <div class="max-w-3xl">
                    <h1 class="text-5xl font-bold mb-6">Build Your Dream Gaming PC</h1>
                    <p class="text-xl mb-8">Premium components, expert builds, and unmatched performance for serious gamers.</p>
               
                  <br>
                  <br>
                  
                </div>
            </div>
           
        </section>

        <!-- Featured Categories -->
        <section class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold text-center mb-12">Shop Now</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8">
                    <a href="#" class="product-card bg-gray-50 rounded-xl p-6 text-center hover:shadow-lg">
                        <i class="fas fa-microchip text-4xl text-indigo-600 mb-4"></i>
                        <h3 class="text-xl font-semibold">Processors</h3>
                    </a>
                    <a href="#" class="product-card bg-gray-50 rounded-xl p-6 text-center hover:shadow-lg">
                        <i class="fas fa-tv text-4xl text-indigo-600 mb-4"></i>
                        <h3 class="text-xl font-semibold">Graphics Cards</h3>
                    </a>
                    <a href="#" class="product-card bg-gray-50 rounded-xl p-6 text-center hover:shadow-lg">
                        <i class="fas fa-memory text-4xl text-indigo-600 mb-4"></i>
                        <h3 class="text-xl font-semibold">Memory</h3>
                    </a>
                    <a href="#" class="product-card bg-gray-50 rounded-xl p-6 text-center hover:shadow-lg">
                        <i class="fas fa-hdd text-4xl text-indigo-600 mb-4"></i>
                        <h3 class="text-xl font-semibold">Storage</h3>
                    </a>
                </div>
            </div>
        </section>

        <!-- Featured Products -->
        <section class="py-16 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl font-bold text-center mb-12">Featured Products</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <% products.forEach((product) => { %>
                        <% if(!product.unlist) { %>
                            
                            <div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl relative">
                                    <a href="/product/<%= product._id %>" class="product-card-link">
                                    <!-- Offer Badge -->
                                    <% if(product.offer > 0) { %>
                                        <span class="offer-badge">
                                            <% if(product.offtype=='fixed'){%>
                                                FLAT <%= product.price - product.dealprice %>₹ OFF
                                            <% } else { %>
                                                <%= Math.round(((product.price - product.dealprice) / product.price) * 100) %>% OFF
                                            <% } %>
                                        </span>
                                    <% } %>
                            
                                    <div class="relative">
                                        <img src="<%= product.images[0] %>" alt="<%= product.name %>" class="w-full h-48 object-cover">
                                    </div>
                            
                                    <div class="p-6">
                                        <!-- Product Category -->
                                        <div class="text-sm text-indigo-600 font-medium mb-2">
                                            <%= product.category %>
                                        </div>
                            
                                        <!-- Product Name -->
                                        <h3 class="text-xl font-semibold mb-3"><%= product.name %></h3>
                            
                                        <!-- Pricing Section -->
                                        <div class="price-tag mb-4">
                                            <% if(product.offer > 0) { %>
                                                <span class="original-price">₹<%= product.price %></span>
                                                <span class="offer-price">₹<%= product.dealprice %></span>
                                                <span class="saving-text">Save ₹<%= product.price - product.dealprice %></span>
                                            <% } else { %>
                                                <span class="offer-price">₹<%= product.price %></span>
                                            <% } %>
                                        </div>
                            
                                        <!-- Stock Status -->
                                        <div class="mb-4">
                                            <% if(product.stock > 0) { %>
                                                <span class="text-green-600 text-sm flex items-center">
                                                    <i class="fas fa-check-circle mr-1"></i>
                                                    In Stock
                                                </span>
                                            <% } else { %>
                                                <span class="text-red-600 text-sm flex items-center">
                                                    <i class="fas fa-times-circle mr-1"></i>
                                                    Out of Stock
                                                </span>
                                            <% } %>
                                        </div>
                            
                                        
                                    </a>                 
                                        <button class="add-to-cart-btn w-full bg-indigo-600 text-white py-2.5 px-4 rounded-lg hover:bg-indigo-700 transition flex items-center justify-center space-x-2"
                                        onclick="addToCart('<%= product._id %>','<%= product.dealprice %>','<%=product.name%>' )">
                                        <i class="fas fa-cart-plus"></i>
                                        <span>Add to Cart</span>
                                    </button>
                                    </div>
                                </div>
                            
                            
                        <% } %>
                    <% }) %>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <img src="/uploads/logo.png" alt="WeebsCorner Logo" class="h-8 mb-4">
                    <p class="text-gray-400">Your ultimate destination for premium PC parts and gaming gear.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="/about" class="text-gray-400 hover:text-white">About Us</a></li>
                        <li><a href="/contact" class="text-gray-400 hover:text-white">Contact</a></li>
                        <li><a href="/shipping" class="text-gray-400 hover:text-white">Shipping Info</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Support</h3>
                    <ul class="space-y-2">
                        <li><a href="/faq" class="text-gray-400 hover:text-white">FAQ</a></li>
                        <li><a href="/returns" class="text-gray-400 hover:text-white">Returns</a></li>
                        <li><a href="/warranty" class="text-gray-400 hover:text-white">Warranty</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Connect</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-discord"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center">
                <p class="text-gray-400">&copy; 2024 WeebsCorner. All rights reserved.</p>
            </div>
        </div>
    </footer>
<script>
   let count= document.querySelector('.cart-count').innerText
   console.log(count);
   
    
    function addToCart(pid,price,productName){
 
        fetch('/cart',{
            method:'POST',
            headers:{
                'Content-Type':'application/json'
            },
            body:JSON.stringify({priductisdata:pid,price:price})
        })
        .then(res=>res.json())
        .then(res=>{
            console.log('here');
            
            if(res.success==true){
                count++
                document.querySelector('.cart-count').innerText=count
                Swal.fire({
                title: 'Added to Cart!',
                text: `${productName} has been added to your cart`,
                icon: 'success',
                showCancelButton: true,
                confirmButtonColor: '#4F46E5',
                cancelButtonColor: '#3730A3',
                confirmButtonText: 'View Cart',
                cancelButtonText: 'Continue Shopping'
            })
            .then(resp=>{
                if(resp.isConfirmed){
                    window.location.href='/cart'
                }
            })
           
            }
            else {
                Swal.fire({
                title: 'Oops...',
                text: res.message,
                icon: 'error',
                confirmButtonColor: '#4F46E5'
            });
            }
        })

    }
</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</body>
</html>